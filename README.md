# ParallelExecution

**Постановка задачи**
- Есть сервис подбора кода, который выполняет задание несколько секунд. Есть сервис подбора VIN-номера, который может работать параллельно первому сервису и также выполняет своё задание за несколько секунд. При успешном выполнении обоих заданий должно быть выполнено следующее задание. При неуспешном выполнении хотя бы одного из двух первых заданий должно быть сгенерировано исключение и последнее задание не должно стартовать. Напиши код на java, реализующий описанную выше логику.

| Сценарий использования               | Future                                        | CompletableFuture                              |
|-------------------------------------|-----------------------------------------------|-----------------------------------------------|
| Асинхронная задача с одним результатом  | `Future` является более стандартным подходом.   | `CompletableFuture` предоставляет более гибкий API, поддерживает цепочки операций и комбинирование результатов. |
| Запуск нескольких задач параллельно    | Неудобно использовать для параллельного выполнения нескольких задач. | Предоставляет более удобные методы для запуска нескольких задач параллельно и обработки их результатов. |
| Комбинирование результатов нескольких задач | Требуется использовать `get()` для ожидания результатов, что может блокировать выполнение. | Позволяет использовать методы комбинирования, такие как `thenCombine`, `thenAcceptBoth`, `applyToEither`, и др., без блокировки. |
| Обработка ошибок в асинхронных задачах | Неудобно обрабатывать ошибки и исключения.   | Предоставляет методы для обработки ошибок, такие как `exceptionally`, `handle`, `whenComplete`, и др.        |
| Прерывание задачи                    | Поддерживает отмену задачи с использованием `cancel`. | Позволяет отменять задачи, но также предоставляет дополнительные методы для обработки отмены и продолжения выполнения других задач. |
| Задачи, которые возвращают значение  | Возвращает `Future` с методом `get`, который блокирует выполнение, ожидая результата. | Предоставляет методы, которые можно комбинировать и использовать в цепочках, позволяя более гибко обрабатывать результаты. |
| Применение в стандартных библиотеках | Стандартная библиотека Java.              | Имеет более современные и расширенные возможности, представляя собой улучшенную версию `Future`.            |

Обратите внимание, что `CompletableFuture` предоставляет более богатый функционал и удобен в случаях, когда необходима более гибкая и мощная асинхронная обработка задач.



| Критерии               | CompletableFuture                                        | Spring Reactor                                            |
|-------------------------|----------------------------------------------------------|-----------------------------------------------------------|
| **Асинхронность**        | Полностью поддерживает асинхронное программирование и предоставляет богатые методы для работы с асинхронными задачами. | Специально разработан для реактивного программирования и предоставляет мощные инструменты для работы с асинхронными потоками данных. |
| **Композиция**           | Предоставляет методы для композиции и комбинирования задач, такие как `thenCombine`, `thenApply`, `exceptionally` и др. | Имеет богатые возможности для композиции и комбинирования потоков данных, такие как `flatMap`, `zip`, `concat` и др.              |
| **Обработка исключений** | Предоставляет удобные методы для обработки исключений, такие как `exceptionally`, `handle`, и каскадирование исключений. | Имеет мощные инструменты для обработки исключений в реактивном стиле, такие как `onErrorResume`, `onErrorReturn`, и другие.     |
| **Параллелизм**          | Полностью поддерживает параллелизм и асинхронное выполнение задач. | Разработан с учетом асинхронности и параллелизма, предоставляет операторы для выполнения операций параллельно.              |
| **Callback-и**           | Поддерживает callback-и через методы `thenApply`, `thenAccept`, `thenRun` и другие. | Имеет встроенную поддержку для callback-ов через методы `subscribe`, `onNext`, `onError`, `onComplete` и другие.               |
| **Комплексность**        | Предоставляет более высокий уровень абстракции, что делает код более лаконичным и позволяет эффективно управлять асинхронными операциями. | Также предоставляет высокоуровневые операторы и абстракции для управления реактивными потоками данных.                   |
| **Использование в Spring**| Встроенная поддержка в Spring для асинхронных операций.   | Предоставляет реактивные возможности в Spring для создания асинхронных и отзывчивых систем.                           |

**Когда выбрать CompletableFuture:**
- Когда у вас уже есть существующий код, основанный на `CompletableFuture`, или когда вы работаете в окружении, где `CompletableFuture` более удобен.

**Когда выбрать Spring Reactor:**
- Когда вы разрабатываете новое приложение и хотите использовать реактивный подход от начала до конца.
- Когда вам нужна отзывчивость и управление потоками данных в приложении Spring, особенно при работе с веб-контроллерами и сервисами.
